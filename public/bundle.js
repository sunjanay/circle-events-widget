/*! For license information please see bundle.js.LICENSE.txt */
(()=>{function e(){var t,r,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function c(e,o,a,i){var c=o&&o.prototype instanceof l?o:l,u=Object.create(c.prototype);return n(u,"_invoke",function(e,n,o){var a,i,c,l=0,u=o||[],d=!1,v={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,n){return a=e,i=0,c=t,v.n=n,s}};function m(e,n){for(i=e,c=n,r=0;!d&&l&&!o&&r<u.length;r++){var o,a=u[r],m=v.p,p=a[2];e>3?(o=p===n)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=m&&((o=e<2&&m<a[1])?(i=0,v.v=n,v.n=a[1]):m<p&&(o=e<3||a[0]>n||n>p)&&(a[4]=e,a[5]=n,v.n=p,i=0))}if(o||e>1)return s;throw d=!0,n}return function(o,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&m(u,p),i=u,c=p;(r=i<2?t:c)||!d;){a||(i?i<3?(i>1&&(v.n=-1),m(i,c)):v.n=c:v.v=c);try{if(l=2,a){if(i||(o="next"),r=a[o]){if(!(r=r.call(a,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,i<2&&(i=0)}else 1===i&&(r=a.return)&&r.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((r=(d=v.n<0)?c:e.call(n,v))!==s)break}catch(e){a=t,i=1,c=e}finally{l=1}}return{value:r,done:d}}}(e,a,i),!0),u}var s={};function l(){}function u(){}function d(){}r=Object.getPrototypeOf;var v=[][a]?r(r([][a]())):(n(r={},a,function(){return this}),r),m=d.prototype=l.prototype=Object.create(v);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,n(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e}return u.prototype=d,n(m,"constructor",d),n(d,"constructor",u),u.displayName="GeneratorFunction",n(d,i,"GeneratorFunction"),n(m),n(m,i,"Generator"),n(m,a,function(){return this}),n(m,"toString",function(){return"[object Generator]"}),(e=function(){return{w:c,m:p}})()}function n(e,t,r,o){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}n=function(e,t,r,o){function i(t,r){n(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},n(e,t,r,o)}function t(e,n,t,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(r,o)}document.addEventListener("DOMContentLoaded",function(){var n=document.getElementById("events-container");function r(){return o.apply(this,arguments)}function o(){var r;return r=e().m(function t(){var r,o,a,i,c,s,l,u,d,v,m;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("/api/events");case 1:if((r=e.v).ok){e.n=2;break}throw new Error("Failed to fetch events");case 2:return e.n=3,r.json();case 3:if(o=e.v,n.innerHTML="",a=o.records||o||[],(i=new Date).setHours(0,0,0,0),0!==(c=a.filter(function(e){var n=e.space&&"general-events"===e.space.slug,t=new Date(e.starts_at);return t.setHours(0,0,0,0),n&&t>=i})).length){e.n=4;break}return n.innerHTML='<div class="no-events">No upcoming events found in General Events.</div>',e.a(2);case 4:s={},c.forEach(function(e){var n=new Date(e.starts_at).toLocaleDateString("en-US",{month:"long",year:"numeric"});s[n]||(s[n]=[]),s[n].push(e)}),(l=Object.keys(s).sort(function(e,n){return new Date(e+" 1")-new Date(n+" 1")})).length>1&&((u=document.createElement("div")).className="month-navigation",(d=document.createElement("div")).className="nav-title",d.textContent="Jump to month:",u.appendChild(d),(v=document.createElement("div")).className="nav-buttons",l.forEach(function(e){var n=document.createElement("button");n.className="nav-button",n.textContent=e,n.addEventListener("click",function(){var n=document.getElementById("month-".concat(e.replace(/\s/g,"-")));n&&n.scrollIntoView({behavior:"smooth",block:"start"})}),v.appendChild(n)}),u.appendChild(v),n.appendChild(u)),l.forEach(function(e){var t=document.createElement("div");t.className="month-header",t.id="month-".concat(e.replace(/\s/g,"-")),t.innerHTML='\n          <h3 class="month-title">'.concat(e,'</h3>\n          <div class="month-events-count">').concat(s[e].length," event").concat(1!==s[e].length?"s":"","</div>\n        "),n.appendChild(t);var r=document.createElement("div");r.className="month-container",s[e].sort(function(e,n){return new Date(e.starts_at)-new Date(n.starts_at)}),s[e].forEach(function(e){var n=document.createElement("div");n.className="event-item";var t=new Date(e.starts_at),o=t.getDate(),a=(t.toLocaleDateString("en-US",{month:"short"}),t.toLocaleDateString("en-US",{weekday:"short"})),i=(t.getFullYear(),t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}));n.innerHTML='\n            <div class="event-date-block">\n              <div class="calendar-day">'.concat(o,'</div>\n              <div class="calendar-weekday">').concat(a,'</div>\n            </div>\n            <div class="event-content">\n              <div class="event-main-info">\n                <div class="event-details">\n                  <div class="event-title">').concat(e.name||"Untitled Event",'</div>\n                  <div class="event-meta">\n                    <div class="event-datetime">\n                      <span class="event-time">').concat(i,'</span>\n                    </div>\n                    <div class="event-host">').concat(e.host||e.member_name||"Foster Greatness",'</div>\n                    <div class="event-location">').concat("virtual"===e.location_type?"üåê Virtual Event":"üìç In-Person","</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            ").concat(e.cover_image_url?'<div class="event-cover-image"><img src="'.concat(e.cover_image_url,'" alt="').concat(e.name||"Event cover",'" loading="lazy"></div>'):"","\n          "),e.url&&(n.style.cursor="pointer",n.addEventListener("click",function(){window.open(e.url,"_blank")})),r.appendChild(n)}),n.appendChild(r)}),e.n=6;break;case 5:e.p=5,m=e.v,console.error("Error:",m),m.message.includes("CORS")||m.message.includes("fetch")||"TypeError"===m.name?n.innerHTML='\n          <div class="error">\n            <h3>‚ö†Ô∏è CORS Restriction</h3>\n            <p>This widget needs to be served from your own domain to fetch live events from Circle.so.</p>\n            <p><strong>Options:</strong></p>\n            <ul style="text-align: left; margin: 20px 0;">\n              <li>Embed this widget on your website (not GitHub Pages)</li>\n              <li>Run locally: <code>npm run dev</code></li>\n              <li>Deploy to Vercel/Netlify with backend support</li>\n            </ul>\n            <p>For embedding instructions, see the <a href="https://github.com/sunjanay/circle-events-widget" target="_blank">GitHub repository</a>.</p>\n          </div>\n        ':n.innerHTML='\n          <div class="error">\n            Failed to load events. Please try again later.\n          </div>\n        ';case 6:return e.a(2)}},t,null,[[0,5]])}),o=function(){var e=this,n=arguments;return new Promise(function(o,a){var i=r.apply(e,n);function c(e){t(i,o,a,c,s,"next",e)}function s(e){t(i,o,a,c,s,"throw",e)}c(void 0)})},o.apply(this,arguments)}r(),setInterval(r,3e5)})})();